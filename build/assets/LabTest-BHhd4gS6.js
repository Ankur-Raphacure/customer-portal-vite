import{r as o,a as C,u as fs,b as js,f as bs,h as T,i as Ns,j as a,H as ys,l as _s,F as vs,P as Cs,I as Ss,k as A,L as P,M as ws,m as Q,t as S,n as X,o as Ts,p as As,q as Ps}from"./index-BHf3qlKB.js";import{L as Bs}from"./LabTest.styled-REg4r4m9.js";import{T as Ls,H as m}from"./HealthSaverCard-ALtZy7oF.js";import{H as Fs}from"./index-Ca8DSw12.js";import{N as Ms}from"./NearbyCard-sZxHESt7.js";import{u as Es,G as Hs,M as Ds}from"./esm-B-k5-xwQ.js";import"./index-D3gR5QY_.js";const $s="data:image/svg+xml,%3csvg%20width='19'%20height='23'%20viewBox='0%200%2019%2023'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M16.1638%208.89061C14.4845%206.86031%2012.9379%204.69418%2011.6942%202.45068H10.8768L5.03353%2010.6339L4.70996%2015.817L6.64161%2020.3986L10.1399%2022.4503L11.6943%2022.7287C17.542%2021.2373%2020.319%2013.9143%2016.1638%208.89061Z'%20fill='url(%23paint0_linear_1532_3911)'/%3e%3cpath%20d='M7.22515%208.89064C8.90447%206.86035%2010.4511%204.69421%2011.6948%202.45072C11.4045%201.92702%2011.1306%201.39914%2010.8755%200.867758C10.32%20-0.289252%208.68071%20-0.289252%208.12521%200.867758C6.77724%203.67561%204.90767%206.38642%202.83637%208.89064C-1.80964%2014.5076%202.21056%2023%209.50031%2023C10.2705%2023%2011.0039%2022.9049%2011.6947%2022.7287C5.84681%2021.2374%203.07%2013.9142%207.22515%208.89064Z'%20fill='url(%23paint1_linear_1532_3911)'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M9.99609%209.22852C9.71995%209.22852%209.49609%209.45237%209.49609%209.72852V12.1124H7.11377C6.83763%2012.1124%206.61377%2012.3363%206.61377%2012.6124V13.9196C6.61377%2014.1957%206.83763%2014.4196%207.11377%2014.4196H9.49609V16.8034C9.49609%2017.0795%209.71995%2017.3034%209.99609%2017.3034H11.3032C11.5793%2017.3034%2011.8032%2017.0795%2011.8032%2016.8034V14.4196H14.1886C14.4648%2014.4196%2014.6886%2014.1957%2014.6886%2013.9196V12.6124C14.6886%2012.3363%2014.4648%2012.1124%2014.1886%2012.1124H11.8032V9.72852C11.8032%209.45237%2011.5793%209.22852%2011.3032%209.22852H9.99609Z'%20fill='url(%23paint2_linear_1532_3911)'/%3e%3cdefs%3e%3clinearGradient%20id='paint0_linear_1532_3911'%20x1='11.4307'%20y1='2.45068'%20x2='11.4307'%20y2='22.7287'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%23252B61'/%3e%3cstop%20offset='1'%20stop-color='%234C58C7'/%3e%3c/linearGradient%3e%3clinearGradient%20id='paint1_linear_1532_3911'%20x1='11.6948'%20y1='11.5'%20x2='0.848633'%20y2='11.5'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%230E154F'/%3e%3cstop%20offset='0.375994'%20stop-color='%233A4499'/%3e%3cstop%20offset='1'%20stop-color='%236774EB'/%3e%3c/linearGradient%3e%3clinearGradient%20id='paint2_linear_1532_3911'%20x1='10.0744'%20y1='10.3821'%20x2='10.0744'%20y2='18.4569'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%2392BDF6'/%3e%3cstop%20offset='1'%20stop-color='%23AFD1FD'/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e",Us={width:"100%",height:"400px"},Rs=()=>{const[j,B]=o.useState(null),{isLoaded:L}=Es({googleMapsApiKey:Ps});return o.useEffect(()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(d=>{B({lat:d.coords.latitude,lng:d.coords.longitude})},d=>{S.error(`Error fetching geolocation: ${d==null?void 0:d.message}`),console.error("Error fetching geolocation:",d)}):console.error("Geolocation is not supported by this browser.")},[]),L?a.jsx("div",{className:"mapWrapper",children:j?a.jsx(Hs,{mapContainerStyle:Us,center:j,zoom:15,children:a.jsx(Ds,{position:j})}):a.jsx("p",{children:"Fetching location..."})}):a.jsx("div",{children:"Loading..."})},Ys=()=>{var $,U,R,G,O,V,z,W,K,Z,k,q,Y;const[j,B]=o.useState("Woman"),[L,d]=o.useState("Heart"),[F,M]=o.useState(""),{universalSearchResults:b}=C(({generic:s})=>s),[I,N]=o.useState(!1),w=fs(),n=js(),{healthCategoriesList:E,healthPackagesList:Gs,allTestsList:l,allNearByLabssList:H,allPackagesList:i}=C(s=>s.labtest),{userCity:t,user:Os}=C(s=>s.auth),[u,ss]=o.useState([]),[g,as]=o.useState([]),[y,es]=o.useState(0),[_,cs]=o.useState(0),{selectedCurrentAddress:h,nearbyVendors:r}=C(s=>s.profile);o.useEffect(()=>{console.log("selectedCurrentAddress : ",h);const s={latitude:h==null?void 0:h.latitude,longitude:h==null?void 0:h.longitude,section_name:"labtest"};n(bs(s))},[h]),o.useEffect(()=>{console.log("nearbyVendors : ",r)},[r]),o.useEffect(()=>{ns(),os(),ls()},[]),o.useEffect(()=>{(async()=>{var c;if(!y)return;const e=await n(Q({filters:{categoryIds:[y],count:20,page:1}}));e!=null&&e.error&&S.error(((c=e==null?void 0:e.error)==null?void 0:c.message)||"Unknown Error Occured")})()},[y]),o.useEffect(()=>{(async()=>{var c;if(!_)return;const e=await n(X({filters:{categoryIds:[_],count:20,isCorporate:!1,page:1}}));e!=null&&e.error&&S.error(((c=e==null?void 0:e.error)==null?void 0:c.message)||"Unknown Error Occured")})()},[_]);const os=async()=>{var e,c;const s=await n(T({sectionName:"labtest"}));ss((c=(e=s==null?void 0:s.payload)==null?void 0:e.data)==null?void 0:c.category_ids)},ls=async()=>{var e,c;const s=await n(T({sectionName:"packages"}));as((c=(e=s==null?void 0:s.payload)==null?void 0:e.data)==null?void 0:c.category_ids)};o.useEffect(()=>{console.log("userCity : ",t),t!=null&&t.name&&rs(t==null?void 0:t.id)},[t==null?void 0:t.name]);const rs=s=>{n(Ns({city:s,count:8}))},ns=()=>{n(T({sectionName:"labtest"}))},is=()=>{const s={filters:{categoryIds:[],count:20,page:1}};n(Q(s)),n(X({...s,filters:{...s.filters,isCorporate:!1}}))};o.useEffect(()=>{is()},[t]),o.useEffect(()=>{console.log("healthCategoriesList : ",E),console.log("allPackagesList : ",i),console.log("allTestsList : ",l),console.log("allNearByLabssList : ",H)},[E,i,l,H]);const ts=s=>{window.scrollTo(0,400)},[ds,hs]=o.useState([]);o.useEffect(()=>{if(l!=null&&l.length){const s=l==null?void 0:l.map(e=>({title:(e==null?void 0:e.service_name)||"N/A",description:`Type: ${(e==null?void 0:e.type)||"N/A"}`,id:e==null?void 0:e.service_code,imgUrl:(e==null?void 0:e.image)||"https://raphacure-public-images.s3.ap-south-1.amazonaws.com/76907-1732267190133.png"}));hs(s)}},[l]);const D=s=>{n(Ts({searchText:s,type:"dc,ctmri,diagnostic,eye_care,ayurveda,dental_care"}))},p=s=>{w.push(s)},ps=s=>{console.log("item : ",s),N(!1),n(As([])),(s==null?void 0:s.to_link)==="/pharmacy"?p(`/item/generic/${s==null?void 0:s.linkable_id}`):(s==null?void 0:s.linkable_type)==="packages"?p(`/labPackageDetils/${s==null?void 0:s.linkable_id}`):(s==null?void 0:s.type)==="ctmri"?p(`/radiology/scan-details/${s==null?void 0:s.linkable_id}`):(s==null?void 0:s.linkable_type)==="tests"?p(`/labTestDetils/${s==null?void 0:s.linkable_id}`):(s==null?void 0:s.type)==="hospital"?p(`/hospital/${s==null?void 0:s.linkable_id}`):p(`/doctor?q=${F}`)},us=s=>{s&&w.push(`/labPackageDetils/${s}`)},gs=s=>{s&&w.push(`/labTestDetils/${s}`)},v=o.useRef(null),xs=()=>{if(!("webkitSpeechRecognition"in window)){alert("Sorry, your browser does not support speech recognition.");return}S.success("Mic is enabled you can start Talking"),v.current&&v.current.abort();const s=new window.webkitSpeechRecognition;s.lang="en-US",s.interimResults=!1,s.maxAlternatives=1,v.current=s,s.start(),s.onresult=e=>{const c=e.results[0][0].transcript;console.log("speech : ",c),c&&(M(c),D(c),N(!0))},s.onerror=e=>{alert("Mic is already enabled. You can start talking.")},s.onend=()=>{v.current=null}};return a.jsxs(Bs,{children:[a.jsx(ys,{details:_s,handleBuyMedicine:ts,section:"labtest"}),a.jsxs("div",{className:"searchFeature",children:[a.jsxs("div",{className:"searchBar",children:[a.jsx("div",{className:"searchIcon",children:a.jsx(vs,{className:"icon",color:"#fff"})}),a.jsx("input",{type:"text",value:F,placeholder:"Search",onChange:s=>{M(s.target.value),D(s.target.value),N(!0)}}),a.jsx(Fs,{className:"icon micIcon cursor-pointer",onClick:xs})]}),a.jsxs("button",{className:"featureButton",onClick:()=>p("/alllabtests"),children:["Lab Tests",a.jsx("img",{src:$s,alt:"Lab Tests"})]}),a.jsxs("button",{className:"featureButton",onClick:()=>p("/allpackages"),children:["Packages",a.jsx("img",{src:Ls,alt:"Packages"})]})]}),I&&a.jsx(Cs,{children:a.jsx("div",{className:"search-popup",style:{marginTop:"-60px"},children:a.jsxs("div",{className:"search-popup-content",children:[a.jsxs("div",{className:"search-heading-text-div",children:[a.jsx("p",{children:"Showing Result for LabTests"}),a.jsx("button",{className:"btn",onClick:()=>N(!1),children:a.jsx(Ss,{})})]}),(b==null?void 0:b.length)>0?b.map((s,e)=>a.jsxs("div",{className:"search-popup-item",onClick:()=>ps(s),children:[(s==null?void 0:s.image)&&a.jsx("div",{className:"search-popup-image",children:a.jsx("img",{src:s==null?void 0:s.image,alt:(s==null?void 0:s.name)||"Search Result"})}),a.jsxs("div",{className:"search-popup-details",children:[a.jsx("p",{className:"search-popup-name",children:s==null?void 0:s.name}),a.jsx("p",{className:"search-popup-type",children:a.jsx("img",{src:"https://raphacure-public-images.s3.ap-south-1.amazonaws.com/76741-1732179533099.png",alt:""})})]})]},e)):a.jsx("div",{children:a.jsxs("div",{className:"search-popup-no-results",children:[a.jsx("img",{src:"https://raphacure-public-images.s3.ap-south-1.amazonaws.com/76741-1732181068454.png",alt:""}),a.jsx("p",{className:"search-popup-title",children:"No result found for Labtests"}),a.jsx("p",{className:"search-popup-sub-title",children:"search with other brand or category"})]})})]})})}),a.jsxs("div",{className:"healthSaverSection",children:[a.jsx("div",{className:"header",children:a.jsx("h2",{children:"Top Packages"})}),(g==null?void 0:g.length)>0&&a.jsx("div",{className:"packageFilters",children:($=g==null?void 0:g.slice(0,10))==null?void 0:$.map((s,e)=>a.jsx("button",{className:`filterButton ${_===(s==null?void 0:s.id)?"active":""}`,onClick:()=>{cs(s==null?void 0:s.id)},children:s==null?void 0:s.name},e))}),a.jsxs("div",{className:"healthCards",children:[((U=i==null?void 0:i.data)==null?void 0:U.length)>0&&((O=(G=(R=i==null?void 0:i.data)==null?void 0:R.filter(s=>{var e;return((e=s==null?void 0:s.price)==null?void 0:e.actual_cost)>0}))==null?void 0:G.slice(0,6))==null?void 0:O.map((s,e)=>{var c,x,f,J;return a.jsx(m,{title:A(s==null?void 0:s.service_name,30),subtitle:A(s==null?void 0:s.description,30),featureButtonText:"Package",reportTime:"N/A",testCount:(((c=s==null?void 0:s.tests)==null?void 0:c.length)||0).toString(),originalPrice:(((x=s==null?void 0:s.price)==null?void 0:x.actual_cost)||0).toString(),discountedPrice:(((f=s==null?void 0:s.price)==null?void 0:f.discounted_price)||0).toString(),discount:(((J=s==null?void 0:s.price)==null?void 0:J.discount_percentage)||0).toString(),addToCart:()=>{us(s==null?void 0:s.service_code)}},(s==null?void 0:s.service_code)||e)})),((V=i==null?void 0:i.data)==null?void 0:V.length)===0&&a.jsx("p",{children:"No Packages Available"})]}),a.jsx(P,{to:"/allpackages",className:"viewAllBtn ml-auto viewBtn2",children:"View All Packages"})]}),a.jsxs("div",{className:"healthSaverSection",children:[a.jsx("div",{className:"header",children:a.jsx("h2",{children:"Top Tests"})}),(u==null?void 0:u.length)>0&&a.jsx("div",{className:"packageFilters",children:(z=u==null?void 0:u.slice(0,10))==null?void 0:z.map((s,e)=>a.jsx("button",{className:`filterButton ${y===(s==null?void 0:s.id)?"active":""}`,onClick:()=>{es(s==null?void 0:s.id)},children:s==null?void 0:s.name},e))}),a.jsxs("div",{className:"healthCards",children:[((W=l==null?void 0:l.data)==null?void 0:W.length)>0&&((k=(Z=(K=l==null?void 0:l.data)==null?void 0:K.filter(s=>{var e;return((e=s==null?void 0:s.price)==null?void 0:e.actual_cost)>0||(s==null?void 0:s.actual_cost)>0}))==null?void 0:Z.slice(0,6))==null?void 0:k.map((s,e)=>{var c,x,f;return a.jsx(m,{title:(s==null?void 0:s.service_name)||"N/A",subtitle:"Diagnostic Test",featureButtonText:"Book Test",reportTime:"N/A",testCount:"1",originalPrice:(((c=s==null?void 0:s.price)==null?void 0:c.actual_cost)||(s==null?void 0:s.actual_cost)||0).toString(),discountedPrice:(((x=s==null?void 0:s.price)==null?void 0:x.discounted_price)||(s==null?void 0:s.raphacure_cost)||0).toString(),discount:(((f=s==null?void 0:s.price)==null?void 0:f.discount_percentage)||(s==null?void 0:s.discount_percentage)||0).toString(),addToCart:()=>{gs(s==null?void 0:s.service_code)}},(s==null?void 0:s.service_code)||e)})),((q=l==null?void 0:l.data)==null?void 0:q.length)===0&&a.jsx("p",{children:"No Labtests Available"})]}),a.jsx(P,{to:"/alllabtests",className:"viewAllBtn viewBtn2 mb-4",children:"View All Tests"})]}),a.jsxs("div",{className:"nearByLabs",children:[a.jsxs("div",{className:"header",children:[a.jsx("h2",{children:"Nearby Top Labs"}),a.jsx(P,{to:"/allvendors",className:"viewAllBtn viewBtn2 mb-4",children:"View All Vendors"})]}),a.jsx("div",{className:"nearbyCards",children:r!=null&&r.filteredVendors||r!=null&&r.vendors?(Y=(r==null?void 0:r.filteredVendors)||(r==null?void 0:r.vendors))==null?void 0:Y.slice(0,5).map((s,e)=>a.jsx(Ms,{title:(s==null?void 0:s.name)||"N/A",image:s==null?void 0:s.image,rating:((s==null?void 0:s.rating)||"0").toString(),distance:`${parseFloat((s==null?void 0:s.distance_km)||0).toFixed(2)} Km`,location:A(s==null?void 0:s.address,40)||"N/A",id:s==null?void 0:s.id},(s==null?void 0:s.id)||e)):a.jsx("p",{children:"No Nearby Labs Found"})})]}),a.jsxs("div",{className:"popularCheckups",children:[a.jsx("div",{className:"header",children:a.jsx("h2",{children:"Popular Checkups in City"})}),a.jsxs("div",{className:"content",children:[a.jsx(Rs,{}),a.jsx("div",{className:"imgWrap",children:a.jsx("img",{src:"https://raphacure-public-images.s3.ap-south-1.amazonaws.com/76907-1732260153906.png",alt:""})})]}),a.jsx("div",{className:"cardsCarousel",children:a.jsx(ws,{itemstoShow:4,allLabtests:ds,catogorySelect:()=>{}})})]}),a.jsx("div",{className:"privacyImg",children:a.jsx("img",{src:"https://raphacure-public-images.s3.ap-south-1.amazonaws.com/76907-1732271995719.png",alt:""})}),a.jsxs("div",{className:"why",children:[a.jsxs("div",{className:"contentWrapper",children:[a.jsx("div",{className:"heading",children:"Why RaphaCure"}),a.jsx("img",{src:"https://raphacure-public-images.s3.ap-south-1.amazonaws.com/76907-1732273299564.png",alt:""}),a.jsx("div",{className:"desc",children:"RaphaCure ensures accurate, convenient tests, transparent pricing, and secure data with India's top labs"})]}),a.jsx("img",{src:"https://raphacure-public-images.s3.ap-south-1.amazonaws.com/76907-1732273200934.png",alt:""})]})]})};export{Ys as default};

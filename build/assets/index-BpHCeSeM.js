import{r as t,a as F,u as L,b as G,j as e,bF as o,B as I,eC as k,eD as z,q as R,bE as T,eE as S}from"./index-f4owDEOR.js";const M=s=>{const{gotoDelivery:d}=s,[l,m]=t.useState(""),[i,p]=t.useState(""),[h,u]=t.useState(!1),[N,v]=t.useState(!1),{error:x,loading:j,user:f}=F(({auth:n})=>n),c=L(),b=G();t.useEffect(()=>{var n;(n=f==null?void 0:f.data)!=null&&n._id&&c.push("/products")},[f]);const C=()=>{i===""&&v(!0),l===""&&u(!0),i!==""&&l!==""&&y()},y=()=>{console.log("vvvv"),b(k({email:l,password:i}))},P=n=>{let{name:a,value:r}=n.target;u(!1),m(r)};return e.jsxs("div",{className:"LoginContainer",children:[e.jsxs(o.Group,{size:"lg",controlId:"mobileNumber",children:[e.jsx(o.Label,{children:"EMail"}),e.jsx(o.Control,{autoFocus:!0,name:"mobileNumber",type:"text",value:l,className:h?"error":"",onChange:n=>{P(n)}})]}),e.jsxs(o.Group,{size:"lg",controlId:"password",children:[e.jsx(o.Label,{children:"Password"}),e.jsx(o.Control,{type:"password",value:i,className:N?"error":"",onChange:n=>{p(n.target.value),v(!1)}})]}),x&&e.jsx("p",{className:"errorMessage",children:x}),e.jsx(I,{onClick:()=>{C()},block:!0,size:"lg",type:"submit",children:j?"Loading":"Login"}),e.jsx("p",{children:"Forgot Password?"})]})},_={firstName:void 0,lastName:void 0,phoneNumber:void 0,email:void 0,password:void 0,conformPassword:void 0,companyName:void 0,GSTNo:void 0,city:void 0,officeEmail:void 0,PANNo:void 0,companyRegNo:void 0},B={firstName:!1,lastName:!1,phoneNumber:!1,email:!1,password:!1,conformPassword:!1,companyName:!1,GSTNo:!1,city:!1,officeEmail:!1,PANNo:!1,companyRegNo:!1},H={firstName:"Please Enter First name",lastName:"Please Enter Last name",phoneNumber:"Please Enter Phone number",email:"Please Enter valid email",password:"Please Enter Password",conformPassword:"Please Enter Conform Password",companyName:"Please Enter Company Name",GSTNo:"Please Enter GST No",city:"Please select the City name",officeEmail:"Please Enter Office Email",PANNo:"Please Enter PAN No",companyRegNo:"Please Enter Company Reg No"},q=()=>{const[s,d]=t.useState(_),[l,m]=t.useState(B),[i,p]=t.useState(H),{error:h,loading:u,user:N}=F(({auth:n})=>n),v=L(),[x,j]=t.useState(null),f=G();t.useEffect(()=>{var n;(n=N==null?void 0:N.data)!=null&&n._id&&v.push("/products")},[N]);const c=n=>{let{name:a,value:r}=n.target;var g=r;r.trim()==""&&(g=r.trim());const w={...s},E={...l};a=="phoneNumber"||a=="officeNo"?(g===""||/^[0-9\b]+$/.test(g))&&d({...w,[a]:g}):a==="email"||a=="officeEmail"?(d({...w,[a]:g}),/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(r).toLowerCase())?m({...E,[a]:!1}):m({...E,[a]:!0})):d({...w,[a]:g})},b=()=>{j(null);var n=!0,a={...l};for(var r in s)(s[r]===""||!s[r])&&(a[r]=!0,n=!1);console.log("errornew",a),m({...a}),(s==null?void 0:s.password)!==(s==null?void 0:s.conformPassword)?(n=!1,j("Password and Confirm Password fields value must be matched.")):(s==null?void 0:s.password.length)<6&&(n=!1,j("Password requires 6 characters minimum.")),n&&(C(s),console.log("signUpData",s))},C=n=>{f(z(n)),console.log("vinodddd")},y=()=>{var n=!1;console.log("signUpData",s);for(var a in s)(s[a]===""||!s[a])&&(n=!0);return n},P=[{id:45,name:"Bangalore"},{id:45,name:"Hyderabad"},{id:45,name:"Mumbai"},{id:45,name:"Delhi"}];return console.log("errorData?.email",l),e.jsxs("div",{className:"SignupContainer",children:[e.jsxs(o.Group,{className:"signup-md",size:"lg",controlId:"email",children:[e.jsx(o.Label,{children:"First Name"}),e.jsx(o.Control,{autoFocus:!0,name:"firstName",type:"email",value:s==null?void 0:s.firstName,onChange:n=>c(n)}),e.jsx(o.Control.Feedback,{type:"invalid",children:l!=null&&l.firstName?e.jsx(e.Fragment,{children:i==null?void 0:i.firstName}):null})]}),e.jsxs(o.Group,{className:"signup-md-left",size:"lg",controlId:"email",children:[e.jsx(o.Label,{children:"Last Name"}),e.jsx(o.Control,{type:"email",name:"lastName",value:s==null?void 0:s.lastName,onChange:n=>c(n)}),e.jsx(o.Control.Feedback,{type:"invalid",children:l!=null&&l.lastName?e.jsx(e.Fragment,{children:i==null?void 0:i.lastName}):null})]}),e.jsxs(o.Group,{className:"signup-md",size:"lg",controlId:"email",children:[e.jsx(o.Label,{children:"Phone Number"}),e.jsx(o.Control,{type:"email",maxLength:10,name:"phoneNumber",value:s==null?void 0:s.phoneNumber,onChange:n=>c(n)}),e.jsx(o.Control.Feedback,{type:"invalid",children:l!=null&&l.phoneNumber?e.jsx(e.Fragment,{children:i==null?void 0:i.phoneNumber}):null})]}),e.jsxs(o.Group,{className:"signup-md-left",size:"lg",controlId:"email",children:[e.jsx(o.Label,{children:"Email"}),e.jsx(o.Control,{type:"email",name:"email",value:s==null?void 0:s.email,onChange:n=>c(n)}),e.jsx(o.Control.Feedback,{type:"invalid",children:l!=null&&l.email?e.jsx(e.Fragment,{children:i==null?void 0:i.email}):null})]}),e.jsxs(o.Group,{className:"signup-md",size:"lg",controlId:"companyName",children:[e.jsx(o.Label,{children:"Company Name"}),e.jsx(o.Control,{type:"email",maxLength:50,name:"companyName",value:s==null?void 0:s.companyName,onChange:n=>c(n)}),e.jsx(o.Control.Feedback,{type:"invalid",children:l!=null&&l.companyName?e.jsx(e.Fragment,{children:i==null?void 0:i.companyName}):null})]}),e.jsxs(o.Group,{className:"signup-md-left",size:"lg",controlId:"GSTNo",children:[e.jsx(o.Label,{children:"GST No"}),e.jsx(o.Control,{type:"email",maxLength:20,name:"GSTNo",value:s==null?void 0:s.GSTNo,onChange:n=>c(n)}),e.jsx(o.Control.Feedback,{type:"invalid",children:l!=null&&l.GSTNo?e.jsx(e.Fragment,{children:i==null?void 0:i.GSTNo}):null})]}),e.jsxs(o.Group,{className:"signup-md",size:"lg",controlId:"city",children:[e.jsx(o.Label,{children:"City"}),e.jsxs(o.Control,{name:"city",value:s==null?void 0:s.city,onChange:n=>c(n),as:"select",children:[e.jsx("option",{name:"",children:"Select"}),(P||[]).map((n,a)=>e.jsx(e.Fragment,{children:e.jsx("option",{selected:!1,name:n.id,value:n.name,children:n.name})}))]}),e.jsx(o.Control.Feedback,{type:"invalid",children:l!=null&&l.city?e.jsx(e.Fragment,{children:i==null?void 0:i.city}):null})]}),e.jsxs(o.Group,{className:"signup-md-left",size:"lg",controlId:"officeEmail",children:[e.jsx(o.Label,{children:"Office Email"}),e.jsx(o.Control,{type:"email",maxLength:100,name:"officeEmail",value:s==null?void 0:s.officeEmail,onChange:n=>c(n)}),e.jsx(o.Control.Feedback,{type:"invalid",children:l!=null&&l.officeEmail?e.jsx(e.Fragment,{children:i==null?void 0:i.officeEmail}):null})]}),e.jsxs(o.Group,{className:"signup-md",size:"lg",controlId:"PANNo",children:[e.jsx(o.Label,{children:"PAN No"}),e.jsx(o.Control,{type:"email",maxLength:10,name:"PANNo",value:s==null?void 0:s.PANNo,onChange:n=>c(n),isInvalid:l==null?void 0:l.PANNo}),e.jsx(o.Control.Feedback,{type:"invalid",children:l!=null&&l.PANNo?e.jsx(e.Fragment,{children:i==null?void 0:i.PANNo}):null})]}),e.jsxs(o.Group,{className:"signup-md-left",size:"lg",controlId:"companyRegNo",children:[e.jsx(o.Label,{children:"Company Reg No"}),e.jsx(o.Control,{type:"email",maxLength:50,name:"companyRegNo",value:s==null?void 0:s.companyRegNo,onChange:n=>c(n),isInvalid:l==null?void 0:l.companyRegNo}),e.jsx(o.Control.Feedback,{type:"invalid",children:l!=null&&l.companyRegNo?e.jsx(e.Fragment,{children:i==null?void 0:i.companyRegNo}):null})]}),e.jsxs(o.Group,{className:"signup-md",size:"lg",controlId:"password",children:[e.jsx(o.Label,{children:"Password"}),e.jsx(o.Control,{type:"password",name:"password",isInvalid:l==null?void 0:l.password,value:s==null?void 0:s.password,onChange:n=>c(n)}),e.jsx(o.Control.Feedback,{type:"invalid",children:l!=null&&l.password?e.jsx(e.Fragment,{children:i==null?void 0:i.password}):null})]}),e.jsxs(o.Group,{className:"signup-md-left",size:"lg",controlId:"password",children:[e.jsx(o.Label,{children:"Conform Password"}),e.jsx(o.Control,{type:"password",name:"conformPassword",value:s==null?void 0:s.conformPassword,onChange:n=>c(n)})]}),x&&e.jsx("p",{className:"errorMessage",children:x}),h&&!x&&e.jsx("p",{className:"errorMessage",children:h}),e.jsx(I,{disabled:y(),onClick:()=>{b()},block:!0,size:"lg",type:"submit",children:u?"Loading":"Create Account"})]})},Z=s=>{const[d,l]=t.useState(0),[m,i]=t.useState("Sign in to your existing account.");let p=R();t.useEffect(()=>{let u=p.search;new URLSearchParams(u).get("returnUrl")},[p.search]);const h=()=>{console.log("vino"),s==null||s.updateStep("delivery")};return e.jsx("div",{className:"loginsignupContainer",children:e.jsxs("div",{className:"data-loginsignupContainer",children:[e.jsx("div",{className:"freshbag_signin_header",children:d===0?m:"Create an account for faster ."}),e.jsxs(T,{className:"tabHeaderDesktop",children:[e.jsx(S,{xs:6,onClick:()=>l(0),className:d===0?" tabActive":"tabInActive",children:e.jsx("span",{children:"Sign In"})}),e.jsx(S,{xs:6,onClick:()=>l(1),className:d===1?" tabActive":"tabInActive",children:e.jsx("span",{children:"Create Account"})})]}),d===0&&e.jsx(M,{gotoDelivery:h}),d===1&&e.jsx(q,{onSignUpSuccess:()=>l(0)})]})})};export{Z as default};

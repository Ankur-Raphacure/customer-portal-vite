import{j as t,y as fe,u as xe,b as me,r as a,a as I,eU as ye,fb as Se,dv as Ce,aN as pe,h as je,fc as be,fd as Ne,S as Ae,eX as Pe,m as $}from"./index-DDOdRoFT.js";import{R as z}from"./RadiologyStyled.styled-BQUg7ZYB.js";import{H as ve}from"./HealthSaverCard-CdM4wdGz.js";import{S as Le}from"./SideFilterModule-BZN1WbF0.js";import{B as Te}from"./BreadCrumbModule-BS-lnu2d.js";import{S as Fe}from"./ScanCenterCards-Bv4NqBEK.js";import"./index-yoN86szv.js";import"./index-BbRpjKC3.js";import"./index-ZSCTJ2IQ.js";const Ie=c=>t.jsx(z,{children:t.jsx("div",{className:"selector-filter-sub-module-div",children:t.jsx(fe,{showSearch:!0,placeholder:"Sort By",filterOption:(M,r)=>((r==null?void 0:r.label)??"").toLowerCase().includes(M.toLowerCase()),defaultValue:"discount",onChange:c.handleSortChange,options:[{value:"discount",label:"Discount"},{value:"desc",label:"Price: High to Low"},{value:"asc",label:"Price: Low to High"}]})})}),Me=[{name:"Male Radiologist",id:"male",link:"/pharmacy"},{name:"Female Radiologist",id:"female",link:"/pharmacy"}],we=[{name:"Morning",id:"",link:""},{name:"Afternoon",id:"",link:""},{name:"Evening",id:"",link:""}],ke=[{name:"Labs Offering Discounts",id:"",link:""},{name:"Free Follow-Up COnsultations",id:"",link:""}],De=[{name:"High Rated Labs",id:"",link:""},{name:"Verified Feedbacks",id:"",link:""}],Je=c=>{var _,H,O,U,V;let{sectionName:r}=(_=c==null?void 0:c.match)==null?void 0:_.params,J=(O=(H=c==null?void 0:c.location)==null?void 0:H.state)==null?void 0:O.name;const X=[{title:"Radiology",link:"/radiology"},{title:J,link:"/radiology"}],w=xe(),n=me(),q=12,[S,k]=a.useState(""),[A,P]=a.useState(""),[C,h]=a.useState(0),[v,f]=a.useState(""),[d,p]=a.useState(""),[u,j]=a.useState(""),[o,D]=a.useState(r?[Number(r)]:[]),[l,b]=a.useState([]),[G,K]=a.useState([]),[x,B]=a.useState(9),[L,R]=a.useState(20),{allScansNearBy:i}=I(e=>e.ctmri),{allTestsList:N,MedicinesCount:T,allCategoriesList:Q,allActiveBodyPartList:W}=I(e=>e.labtest),[Y,Be]=a.useState(1),F=window.location.pathname==="/radiology/allScansNearMe";console.log("isNearByAll",F);const{userCity:g}=I(e=>e.auth);a.useEffect(()=>{n(ye()),n(Se())},[]),a.useEffect(()=>{Z(g==null?void 0:g.name)},[g==null?void 0:g.name]);const Z=(e="bengaluru")=>{n(Ce({city:e==null?void 0:e.toLowerCase()})),n(pe({city:e==null?void 0:e.toLowerCase(),count:100}))},ee="ctmri",te=e=>{w.push(`/radiology/scan-details/${e}`,ee)},se=e=>{w.push(`/labtest/packages/${e}`)},E=()=>{P(""),h(0),f(""),p(""),j(""),b([]),D([]),B(9)},ae=e=>{const s=[...G];if(s!=null&&s.includes(e)){const m=s.findIndex(y=>y===e);s.splice(m,1)}else s.push(e);K(s),b([]),h(0),f(""),p(""),j("")},ne=e=>{const s=[...l];if(s!=null&&s.includes(e)){const m=s.findIndex(y=>y===e);s.splice(m,1)}else s.push(e);b(s)},oe=e=>{const s=[...o];if(s!=null&&s.includes(e)){const m=s.findIndex(y=>y===e);s.splice(m,1)}else s.push(e);D(s),b([]),h(0),f(""),p(""),j("")},ie=e=>{h((e==null?void 0:e[0])??0),f(e==null?void 0:e[1])},ce=e=>{p(d!=e[0]?e[0]:""),j(u!=e[1]?e[1]:"")},le=e=>{h(d!=e[0]?e[0]:""),f(u!=e[1]?e[1]:"")},re=async e=>{k(e),E()},de=e=>{P(e)},ue=e=>{P(e)},ge=async()=>{let e={};S&&(e.searchText=S),A&&(e.sortBy=A),o&&(e.categoryIds=o),l&&(l==null?void 0:l.length)>0&&(e.bodyPart=l),(C===0||C)&&(e.minPrice=C),v&&(e.maxPrice=v),d&&(e.minDiscount=d),u&&(e.maxDiscount=u),e.testType="ctmri",await n($({filters:{...e,count:x,page:1,testType:"ctmri"}}))};a.useEffect(()=>{ge(),n(je({sectionName:"ctmri"}))},[Y,q,JSON.stringify(o),S,A,v,C,u,d,l]),a.useEffect(()=>{n(be({filters:{categoryIds:o}}))},[n,o]),a.useEffect(()=>{n(Ne({filters:{categoryIds:o}}))},[n,o]);const he=()=>{const e=x+9;B(e),n($({filters:{categoryIds:o,count:e,page:1,testType:"ctmri"}}))};return a.useEffect(()=>{R(T||0)},[N,T]),t.jsx(z,{children:t.jsxs("div",{className:"all-scans-list-content",children:[t.jsxs("div",{className:"container-fluid scan-list-data-content",children:[F?t.jsx(t.Fragment,{}):t.jsx("div",{className:"filter-module-div",children:t.jsx(Le,{origin:"ctmri",handleClearAll:E,handleChangeCategoryFilter:oe,handleonFilterDiscount:ce,filterPriceRange:ie,handleChangeBodyTypeFilter:ne,handleChangeTypeFilter:ae,setSelectedSortOption:ue,handleInputChange:le,allTypeList:Me,allCategoriesList:Q,allBodyTypeList:W,allTimeSlotList:we,allDiscountList:ke,patientReviewsList:De,bodyTypeFilter:l,minDiscount:d,maxDiscount:u,selectedCategories:o})}),t.jsxs("div",{className:"filter-List-module-div",children:[t.jsx(Te,{list:X}),t.jsxs("div",{className:"filter-byname-div",children:[t.jsx("div",{className:"filter-by-name",children:t.jsx(Ae,{details:Pe,handleonFilterName:re,setSearchText:k,searchText:S,origin:"Radiology"})}),t.jsx("div",{className:"PriceFilterModule",children:t.jsx(Ie,{handleSortChange:de})})]}),t.jsx("div",{children:F?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"page-count-div",children:t.jsxs("p",{children:["Showing 1 to"," ",Math.min(x,i==null?void 0:i.vendorCount)," ","Tests of ",i==null?void 0:i.vendorCount," Labtests"]})}),t.jsx("div",{className:"allScansNearBy-main-div",children:(U=i==null?void 0:i.vendors)==null?void 0:U.map((e,s)=>t.jsx(Fe,{viewScanCards:e,handleNavigateDetails:se}))})]}):t.jsx(t.Fragment,{children:t.jsxs("div",{className:"page-count-div",children:[t.jsxs("p",{children:["Showing 1 to ",Math.min(x,L)," ","Tests of ",L," Labtests"]}),t.jsx("div",{className:"scan-list-data-div",children:(V=N==null?void 0:N.data)==null?void 0:V.map((e,s)=>{if(e.actual_cost)return t.jsx(ve,{title:e==null?void 0:e.service_name,featureButtonText:e==null?void 0:e.type,reportTime:"N/A",originalPrice:((e==null?void 0:e.actual_cost)||0).toString(),discountedPrice:((e==null?void 0:e.raphacure_cost)||(e==null?void 0:e.actual_cost)||0).toString(),discount:((e==null?void 0:e.discount_percentage)||0).toString(),addToCart:()=>{te(e==null?void 0:e.service_code)},section:"radiology"},(e==null?void 0:e.service_code)||s)})})]})})})]})]}),x<L&&t.jsx("div",{className:"pagination-box-sec-pha",children:t.jsx("button",{onClick:he,className:"load-more-btn",children:"Load More"})})]})})};export{Je as default};

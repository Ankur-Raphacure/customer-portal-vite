import{u as R,b as E,r as d,a as u,eU as H,h as D,eV as $,j as a,H as F,eW as T,S as U,eX as V,I as z,aL as G,M as L,dv as O,aN as W,m as X}from"./index-DDOdRoFT.js";import{R as N}from"./RadiologyStyled.styled-BQUg7ZYB.js";import{H as Y}from"./HealthSaverCard-CdM4wdGz.js";import{S as q}from"./ScanCenterCards-Bv4NqBEK.js";import{B as J}from"./BottomBanner-B9vBVe47.js";import"./index-ZSCTJ2IQ.js";const K=()=>{var j,p,v,S;const r=R(),n=E(),[o,x]=d.useState(""),[i,g]=d.useState(!1),y="ctmri",{userCity:e}=u(s=>s.auth),{allScansNearBy:t}=u(s=>s.ctmri),{allTestsList:l,allCategoriesList:h}=u(s=>s.labtest),{getFirstImageUrl:b}=G(),C=(s="bengaluru")=>{n(O({city:s==null?void 0:s.toLowerCase()})),n(W({city:s==null?void 0:s.toLowerCase(),count:4}))},f=s=>{r.push(`/radiology/allScans/${s==null?void 0:s.id}`,s)},A=s=>{r.push(`/radiology/scan-details/${s}`,y)},w=s=>{r.push(`/labtest/packages/${s}`)},M=s=>{A(s)};d.useEffect(()=>{C(e==null?void 0:e.name)},[e==null?void 0:e.name]),d.useEffect(()=>{n(H())},[]);const P=async s=>{x(s)},B=()=>{n(X({filters:{testType:"ctmri",searchText:o}}))};d.useEffect(()=>{B(),n(D({sectionName:"ctmri"})),n($())},[o]);const _=s=>{r.push(`/radiology/scan-details/${s}`)},m=()=>{i||(g(!1),console.log(i,"showSearchPopupModel"))};return a.jsx(N,{children:a.jsxs("div",{children:[a.jsx(F,{details:T,section:"ctmri"}),a.jsx("div",{className:"search-by-name",children:a.jsx(U,{details:V,handleonFilterName:P,setSearchText:x,searchText:o})}),((o==null?void 0:o.length)>0||i)&&a.jsx("div",{className:"search-popup",children:a.jsxs("div",{className:"search-popup-content",children:[a.jsxs("div",{className:"search-heading-text-div",children:[a.jsxs("p",{children:["Showing Result for ",o]}),a.jsx("button",{className:"btn",onClick:m,children:a.jsx(z,{})})]}),(o==null?void 0:o.length)>2&&((j=l==null?void 0:l.data)==null?void 0:j.length)>0?(p=l==null?void 0:l.data)==null?void 0:p.map((s,c)=>a.jsxs("div",{className:"search-popup-item",onClick:()=>_(s==null?void 0:s.service_code),children:[(s==null?void 0:s.image)&&a.jsx("div",{className:"search-popup-image",children:a.jsx("img",{src:b(s==null?void 0:s.image),alt:(s==null?void 0:s.name)||"Search Result"})}),a.jsxs("div",{className:"search-popup-details",children:[a.jsx("p",{className:"search-popup-name",children:(s==null?void 0:s.name)||(s==null?void 0:s.service_name)}),a.jsx("p",{className:"search-popup-type",children:a.jsx("img",{src:"https://raphacure-public-images.s3.ap-south-1.amazonaws.com/76741-1732179533099.png",alt:""})})]})]},c)):(o==null?void 0:o.length)>3?a.jsxs("div",{className:"search-popup-no-results",children:[a.jsxs("p",{className:"search-popup-title",children:["No result found for ",o]}),a.jsx("p",{className:"search-popup-sub-title",children:"Search with another brand or category"}),a.jsx("img",{src:"https://raphacure-public-images.s3.ap-south-1.amazonaws.com/76741-1732181068454.png",alt:""})]}):null]})}),a.jsx("div",{className:"radiology-heading-div",children:a.jsx("p",{children:"Explore by Scan Category"})}),a.jsx("div",{className:"Scan-Category-MultiCarouselModal",children:a.jsx(L,{itemstoShow:5,catogorySelect:f,allCategoriesList:h==null?void 0:h.category_ids})}),a.jsxs("div",{className:"radiology-cards-main-div",children:[a.jsxs("div",{className:"radiology-sub-cards-title-div",children:[a.jsx("h5",{children:"Targeted Body Scans"}),a.jsx("button",{className:" radiology-sub-cards-All-btn btn",onClick:()=>{r.push("/radiology/allScans")},children:"View All"})]}),a.jsx("div",{className:"healthCards",children:(v=l==null?void 0:l.data)==null?void 0:v.slice(0,4).map((s,c)=>a.jsx(Y,{title:s==null?void 0:s.service_name,featureButtonText:s==null?void 0:s.type,reportTime:"N/A",originalPrice:((s==null?void 0:s.actual_cost)||0).toString(),discountedPrice:((s==null?void 0:s.raphacure_cost)||(s==null?void 0:s.actual_cost)||0).toString(),discount:((s==null?void 0:s.discount_percentage)||0).toString(),addToCart:()=>{M(s==null?void 0:s.service_code)},section:"radiology"},(s==null?void 0:s.service_code)||c))})]}),a.jsx("div",{className:"Centers-cards-main-div",children:a.jsxs("div",{className:"common-sub-cards-main-div",children:[a.jsxs("div",{className:"common-sub-cards-title-div",children:[a.jsx("h5",{children:"Best Scan Centers Near You"}),a.jsx("button",{className:"btn",onClick:()=>{r.push("/radiology/allScansNearMe")},children:"View All"})]}),a.jsx("div",{className:"allScansNearBy-main-div",children:(S=t==null?void 0:t.vendors)==null?void 0:S.slice(0,4).map((s,c)=>a.jsx(q,{viewScanCards:s,handleNavigateDetails:w}))})]})}),a.jsx(J,{})]})})},os=()=>a.jsx(N,{children:a.jsx(K,{})});export{os as default};

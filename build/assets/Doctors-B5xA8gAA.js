import{u as Z,b as q,r as i,a as m,j as a,aV as L,aW as Q,aX as ss,a7 as as,aR as P,aY as es,aa as ts,aZ as os,a3 as cs,aT as is,a_ as ls,ak as ns,am as rs,an as ds,a$ as ps,aJ as hs,b0 as us,aN as ms,b1 as gs,aU as xs,c as js,b2 as bs,aF as Ns,aG as ys,aH as ws,aI as Ss}from"./index-f4owDEOR.js";import{D as fs}from"./Doctors.styled-BV2NgacX.js";import{B as vs}from"./BottomBanner-DjiXGlM5.js";const w=[{img:"https://raphacure-public-images.s3.ap-south-1.amazonaws.com/105748-1736153632811.png",name:"Instant Connection"},{img:"https://raphacure-public-images.s3.ap-south-1.amazonaws.com/105748-1736153660247.png",name:"Chat With Doctor"},{img:"https://raphacure-public-images.s3.ap-south-1.amazonaws.com/105748-1736153684211.png",name:"Hassle-Free Support"},{img:"https://raphacure-public-images.s3.ap-south-1.amazonaws.com/105748-1736153710402.png",name:"Secure Consultations"}],S=[{img:"https://raphacure-public-images.s3.ap-south-1.amazonaws.com/105748-1736230619073.png",name:"Affordable Plan"},{img:"https://raphacure-public-images.s3.ap-south-1.amazonaws.com/105748-1736230690062.png",name:"24/7 Expert Access"},{img:"https://raphacure-public-images.s3.ap-south-1.amazonaws.com/105748-1736230736596.png",name:"Comprehensive Care"}],Cs="CONSULT DOCTOR",_s="https://raphacure-public-images.s3.ap-south-1.amazonaws.com/105748-1738390968445.png",Hs=()=>{var _,z,k,I,A;const r=Z(),o=q(),{getFirstImageUrl:E}=os(),[e,j]=i.useState(""),[H,T]=i.useState({}),[zs,F]=i.useState(""),[b,U]=i.useState(!1),{userAddress:g,nearbyVendors:ks}=m(s=>s.profile),{allDoctorList:c,allSearchAllDoctorList:h,allSpecializationList:Is,allNearByHospitalList:l}=m(s=>s.doctor),{user:d}=m(s=>s.auth),[N,As]=i.useState(d),{allCategoriesList:u}=m(s=>s.labtest);i.useEffect(()=>{console.log("allNearByHospitalList : ",l)},[l]);const{selectedCurrentAddress:n}=m(s=>s.profile),f=async s=>{j(s)},R=()=>{b||U(!1)},v=s=>{r.push(`/doctor/doctordetails/${s}`)},V=async()=>{let s={};e&&(s.searchText=e),await o(us({filters:{...s,status:["approved"],availabilities:!0}}))},D=async()=>{await o(ms({body:{filters:{...{},status:["approved"],availableIn90:!0,availabilities:!0}}}))},O=async()=>{await o(gs())},$=async()=>{const s={latitude:n==null?void 0:n.latitude,longitude:n==null?void 0:n.longitude,section_name:"doctor"};await o(hs(s))},G=async()=>{await o(xs({sectionName:"doctor"}))};i.useEffect(()=>{$()},[n]),console.log(n,"selectedCurrentAddress"),i.useEffect(()=>{e?V():(D(),O(),G())},[e]);const C=s=>{r.push(`/doctor/doctorlist/${s==null?void 0:s.id}`)},W=s=>{o(bs({})),r.push("/doctor/nearbyhospitals")},y=i.useMemo(()=>{let s="";return g==null||g.map(t=>{t!=null&&t.isDefault&&(s=t)}),s},[g]),J=async(s,t=H)=>{var B,M;try{const x=[];console.log("docDetails : ",t);const Y={virtual_type:"instant",package_code:void 0,useWallet:!0,doctor_id:t==null?void 0:t.id,address_id:y==null?void 0:y.id,user_id:parseInt((N==null?void 0:N.id)||(d==null?void 0:d.id)),collection_1_date:null,collection_1_slot:null,collection_2_date:null,collection_2_slot:null,attachment_ids:Ns("doctor"),section_key:"doctor"};x.push(Y);const p=await o(ys({carts:x}));console.log("resp : ",p),(B=p==null?void 0:p.payload)!=null&&B.success?K(s):F(`Error: ${(M=p==null?void 0:p.error)==null?void 0:M.message}`)}catch(x){console.log(x)}},K=async s=>{await o(ws()),await o(Ss({})),r.push("/checkout")},X=s=>{d!=null&&d.id?(T(s),J("booknow",s)):o(js(!0))};return console.log("searchText",e),a.jsxs(fs,{children:[a.jsx("div",{className:"web-view",children:a.jsx(Q,{details:ss,section:"doctor"})}),a.jsx("div",{className:"search-By-text",children:a.jsx(as,{details:P,handleonFilterName:f,setSearchText:j,searchText:e})}),L()&&a.jsx("div",{className:"mobile-view",children:a.jsx(es,{details:P,handleonFilterName:f,setSearchText:j,searchText:e,searchedData:c==null?void 0:c.doctors,handleSearchGoTo:v,showSearchPopupModel:b,parameter:Cs,sectionName:"pharmacy",sectionImg:_s})}),a.jsx("div",{className:"main-Upload-Prescription-mobile",children:a.jsxs("div",{className:"Upload-Prescription-mobile-btn ",children:[a.jsx("p",{children:"Schedule Consult"}),a.jsx("button",{className:"btn",onClick:()=>r.push("/doctor/doctorlist"),children:"Schedule Now"})]})}),((e==null?void 0:e.length)>0||b)&&a.jsx("div",{className:"search-popup",children:a.jsxs("div",{className:"search-popup-content",children:[a.jsxs("div",{className:"search-heading-text-div",children:[a.jsxs("p",{children:["Showing Result for ",e]}),a.jsx("button",{className:"btn",onClick:R,children:a.jsx(ts,{})})]}),(e==null?void 0:e.length)>2&&((_=h==null?void 0:h.doctors)==null?void 0:_.length)>0?(z=h==null?void 0:h.doctors)==null?void 0:z.map((s,t)=>a.jsxs("div",{className:"search-popup-item",onClick:()=>v(s==null?void 0:s.id),children:[(s==null?void 0:s.image)&&a.jsx("div",{className:"search-popup-image",children:a.jsx("img",{src:E(s==null?void 0:s.image),alt:(s==null?void 0:s.name)||"Search Result"})}),a.jsxs("div",{className:"search-popup-details",children:[a.jsx("p",{className:"search-popup-name",children:(s==null?void 0:s.name)||(s==null?void 0:s.service_name)}),a.jsx("p",{className:"search-popup-type",children:a.jsx("img",{src:"https://raphacure-public-images.s3.ap-south-1.amazonaws.com/76741-1732179533099.png",alt:""})})]})]},t)):(e==null?void 0:e.length)>3?a.jsxs("div",{className:"search-popup-no-results",children:[a.jsxs("p",{className:"search-popup-title",children:["No result found for ",e]}),a.jsx("p",{className:"search-popup-sub-title",children:"Search with another brand or category"}),a.jsx("img",{src:"https://raphacure-public-images.s3.ap-south-1.amazonaws.com/76741-1732181068454.png",alt:""})]}):null]})}),a.jsxs("div",{className:"doctor-specialization",children:[a.jsxs("div",{className:"specialization-title-div",children:[a.jsx("p",{children:"Specialization"}),a.jsx("button",{className:"btn",onClick:()=>r.push("/doctor/specializationList"),children:"View all"})]}),a.jsx("div",{className:"parent-multicurosal-module",children:a.jsx(cs,{itemstoShow:5,allCategoriesList:u==null?void 0:u.category_ids,catogorySelect:C})}),a.jsx("div",{className:"mobile-view-categories",children:a.jsx(is,{allCategoriesList:(k=u==null?void 0:u.category_ids)==null?void 0:k.slice(0,4),catogorySelect:C})})]}),a.jsxs("div",{className:"doctor-consult",id:"instantConnect",children:[a.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[a.jsx("p",{className:"doctor-consult-text",children:"Consult / Chat In 90 Seconds"}),a.jsx("button",{className:"btn view-all-btn",onClick:()=>r.push("/doctor/doctorlist"),children:"View all"})]}),a.jsxs("p",{className:"doctor-consult-sub-text",children:["Connect with a professional and get expert advice or support within just 90 ",a.jsx("br",{})," seconds—fast, reliable, and tailored to your needs"]}),a.jsxs("p",{className:"doctor-consult-sub-text-mobile-view",children:["Get expert advice or support in just 90 ",a.jsx("br",{}),"seconds—fast, reliable, and tailored to you"]}),a.jsx("div",{className:"doctor-consult-options",children:w==null?void 0:w.map((s,t)=>a.jsxs("div",{className:"doctor-consult-options-map",children:[a.jsx("img",{src:s==null?void 0:s.img,alt:"",className:"consult-option-img"}),a.jsx("p",{children:s==null?void 0:s.name})]},t))}),a.jsx("div",{className:"doctor-consult-list",children:Array.isArray(c==null?void 0:c.doctors)&&((I=c==null?void 0:c.doctors)==null?void 0:I.slice(0,4).map(s=>a.jsx(ls,{item:s,sectionName:"doctor",handleToBookSlot:X})))})]}),a.jsxs("div",{className:"nearby-doctor-hospitals",children:[a.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[a.jsx("p",{className:"nearby-doctor-title",children:"Nearby Hospitals"}),a.jsx("p",{className:"btn nearby-doctor-view-btn",onClick:W,children:"View all"})]}),a.jsx(ns,{children:a.jsx("div",{className:"nearbyCards near-by-doctors-sec",children:((A=l==null?void 0:l.vendors)==null?void 0:A.length)>0?l==null?void 0:l.vendors.slice(0,5).map((s,t)=>a.jsx(rs,{fromSection:"doctor",item:s,title:(s==null?void 0:s.name)||"N/A",image:s==null?void 0:s.image,rating:((s==null?void 0:s.rating)||"0").toString(),distance:`${parseFloat((s==null?void 0:s.distance_km)||0).toFixed(2)} Km`,location:ds(s==null?void 0:s.address,40)||"N/A",id:s==null?void 0:s.id},(s==null?void 0:s.id)||t)):a.jsx("p",{children:" No Nearby Hospitals Found"})})})]}),a.jsx("div",{className:"doctor-video-section",children:a.jsxs("div",{className:"doctor-video-sub-section",children:[a.jsxs("div",{className:"text-div mobile-view-text-div ",children:[a.jsx("p",{className:"video-text-div",children:"Annual Plan for Unlimited"}),a.jsxs("p",{className:"video-text-div",children:[a.jsx("span",{children:"Doctor Consultations"})," Made Easy"]}),a.jsx("div",{className:"video-option-div",children:S==null?void 0:S.map(s=>a.jsxs("div",{className:"video-sub-option-div",children:[a.jsx("img",{src:s==null?void 0:s.img,alt:""}),a.jsx("p",{children:s==null?void 0:s.name})]}))}),a.jsx("p",{className:"start-from-text",children:"Start from 1000"}),a.jsx("div",{className:"mobile-video-view",children:a.jsx("img",{src:"https://raphacure-public-images.s3.ap-south-1.amazonaws.com/105748-1737883285953.png",alt:""})}),a.jsxs("button",{className:"btn explore-more-btn",children:["Explore More ",a.jsx(ps,{className:"ms-2"})]})]}),a.jsx("div",{className:"video-div"})]})}),a.jsx("div",{className:"mobile-ButtomBanner",children:a.jsx(vs,{})})]})};export{Hs as default};

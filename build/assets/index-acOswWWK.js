import{u as z,b as H,r as d,a as p,eI as T,aj as $,aU as O,eJ as K,j as a,aW as W,eK as C,aV as Y,aY as G,a7 as J,eL as Z,aa as q,aZ as L,a3 as Q,aT as V,bm as X,ak as I,am as k,an as ss,ee as as,eM as ls,eN as os,c as is}from"./index-f4owDEOR.js";import{R as w}from"./RadiologyStyled.styled-C76ZuIrR.js";import{B as es}from"./BottomBanner-DjiXGlM5.js";const cs=()=>{var b,m,y,f;const A="Book Scan",P="https://raphacure-public-images.s3.ap-south-1.amazonaws.com/76741-1733743522813.png",n=z(),e=H(),[l,x]=d.useState(""),[u,M]=d.useState(!1),B="ctmri",{userCity:r,user:j}=p(s=>s.auth),{allScansNearBy:ns}=p(s=>s.ctmri),{allTestsList:o,allCategoriesList:t}=p(s=>s.labtest),{getFirstImageUrl:_}=L(),R=(s="bengaluru")=>{e(as({city:s==null?void 0:s.toLowerCase()})),e(ls({city:s==null?void 0:s.toLowerCase(),count:4}))},{nearbyVendors:i,selectedCurrentAddress:c}=p(s=>s.profile),N=s=>{n.push(`/radiology/allScans/${s==null?void 0:s.id}`,s)},v=s=>{n.push(`/radiology/scan-details/${s}`,B)},E=s=>{v(s)};d.useEffect(()=>{R(r==null?void 0:r.name)},[r==null?void 0:r.name]),d.useEffect(()=>{e(T())},[]);const g=async s=>{x(s)},F=()=>{e(os({filters:{testType:"ctmri",searchText:l}}))};d.useEffect(()=>{console.log("selectedCurrentAddress : ",c);const s={latitude:c==null?void 0:c.latitude,longitude:c==null?void 0:c.longitude,section_name:"radiology"};e($(s))},[c]),d.useEffect(()=>{F(),e(O({sectionName:"ctmri"})),e(K())},[l]);const S=s=>{n.push(`/radiology/scan-details/${s}`)},D=()=>{u||(M(!1),console.log(u,"showSearchPopupModel"))},U=()=>{j!=null&&j.id?n.push("/uploadprescription"):e(is(!0))};return a.jsx(w,{children:a.jsxs("div",{children:[a.jsx("div",{className:"headeing-banner-web",children:a.jsx(W,{details:C,section:"ctmri"})}),a.jsx("div",{className:"headeing-banner-mobile",children:Y()&&a.jsx(G,{details:C,handleonFilterName:g,setSearchText:x,searchText:l,searchedData:o==null?void 0:o.data,handleSearchGoTo:S,showSearchPopupModel:u,parameter:A,sectionName:"ctmri",sectionImg:P})}),a.jsx("div",{className:"mobileview-uploadprescription",children:a.jsxs("div",{className:"Upload-Prescription-mobile-btn ",children:[a.jsx("img",{src:"https://raphacure-public-images.s3.ap-south-1.amazonaws.com/76741-1734771002662.png",alt:"upload_icon"}),a.jsx("p",{children:"Order With Prescription"}),a.jsx("button",{className:"btn",onClick:U,children:"Order Now"})]})}),a.jsx("div",{className:"search-by-name",children:a.jsx(J,{details:Z,handleonFilterName:g,setSearchText:x,searchText:l})}),((l==null?void 0:l.length)>0||u)&&a.jsx("div",{className:"search-popup",children:a.jsxs("div",{className:"search-popup-content",children:[a.jsxs("div",{className:"search-heading-text-div",children:[a.jsxs("p",{children:["Showing Result for ",l]}),a.jsx("button",{className:"btn",onClick:D,children:a.jsx(q,{})})]}),(l==null?void 0:l.length)>2&&((b=o==null?void 0:o.data)==null?void 0:b.length)>0?(m=o==null?void 0:o.data)==null?void 0:m.map((s,h)=>a.jsxs("div",{className:"search-popup-item",onClick:()=>S(s==null?void 0:s.service_code),children:[(s==null?void 0:s.image)&&a.jsx("div",{className:"search-popup-image",children:a.jsx("img",{src:_(s==null?void 0:s.image),alt:(s==null?void 0:s.name)||"Search Result"})}),a.jsxs("div",{className:"search-popup-details",children:[a.jsx("p",{className:"search-popup-name",children:(s==null?void 0:s.name)||(s==null?void 0:s.service_name)}),a.jsx("p",{className:"search-popup-type",children:a.jsx("img",{src:"https://raphacure-public-images.s3.ap-south-1.amazonaws.com/76741-1732179533099.png",alt:""})})]})]},h)):(l==null?void 0:l.length)>3?a.jsxs("div",{className:"search-popup-no-results",children:[a.jsxs("p",{className:"search-popup-title",children:["No result found for ",l]}),a.jsx("p",{className:"search-popup-sub-title",children:"Search with another brand or category"}),a.jsx("img",{src:"https://raphacure-public-images.s3.ap-south-1.amazonaws.com/76741-1732181068454.png",alt:""})]}):null]})}),a.jsx("div",{className:"radiology-heading-div",children:a.jsx("p",{children:"Explore by Scan Category"})}),a.jsx("div",{className:"Scan-Category-MultiCarouselModal",children:a.jsx(Q,{itemstoShow:5,catogorySelect:N,allCategoriesList:t==null?void 0:t.category_ids})}),a.jsx("div",{className:"mobile-view-categories",children:a.jsx(V,{allCategoriesList:t==null?void 0:t.category_ids,catogorySelect:N})}),a.jsxs("div",{className:"radiology-cards-main-div",children:[a.jsxs("div",{className:"radiology-sub-cards-title-div",children:[a.jsx("h5",{children:"Targeted Body Scans"}),a.jsx("button",{className:" radiology-sub-cards-All-btn btn",onClick:()=>{n.push("/radiology/allScans")},children:"View All"})]}),a.jsx("div",{className:"healthCards",children:(y=o==null?void 0:o.data)==null?void 0:y.slice(0,4).map((s,h)=>a.jsx(X,{title:s==null?void 0:s.service_name,featureButtonText:s==null?void 0:s.type,reportTime:"N/A",originalPrice:((s==null?void 0:s.actual_cost)||0).toString(),discountedPrice:((s==null?void 0:s.raphacure_cost)||(s==null?void 0:s.actual_cost)||0).toString(),discount:((s==null?void 0:s.discount_percentage)||0).toString(),addToCart:()=>{E(s==null?void 0:s.service_code)},section:"radiology"},(s==null?void 0:s.service_code)||h))})]}),a.jsx("div",{className:"Centers-cards-main-div",children:a.jsxs("div",{className:"common-sub-cards-main-div",children:[a.jsxs("div",{className:"common-sub-cards-title-div",children:[a.jsx("h5",{children:"Best Scan Centers Near You"}),a.jsx("button",{className:"btn",onClick:()=>{n.push("/radiology/allScansNearMe")},children:"View All"})]}),a.jsx(I,{children:a.jsx("div",{className:"nearbyCards",children:i!=null&&i.filteredVendors||i!=null&&i.vendors?(f=(i==null?void 0:i.filteredVendors)||(i==null?void 0:i.vendors))==null?void 0:f.slice(0,5).map((s,h)=>a.jsx(k,{title:(s==null?void 0:s.name)||"N/A",image:s==null?void 0:s.image,rating:((s==null?void 0:s.rating)||"0").toString(),distance:`${parseFloat((s==null?void 0:s.distance_km)||0).toFixed(2)} Km`,location:ss(s==null?void 0:s.address,40)||"N/A",id:s==null?void 0:s.id},(s==null?void 0:s.id)||h)):a.jsx("p",{children:" No Nearby Radiology Centres Found"})})})]})}),a.jsx("div",{className:"bottom-banner",children:a.jsx(es,{})})]})})},hs=()=>a.jsx(w,{children:a.jsx(cs,{})});export{hs as default};
